<br>

<div align="center">
    <h1>Lesson 7. 센서를 활용한 패턴 비행을 해보아요!</h1>
</div>

<br>

---

<br>


<div align="center">
    <h1>[들어가기]</h1>
</div>

<br>

이번 강의에서는 지난 강의에서 배운 센서값을 활용하여 드론을 패턴 비행시켜보는 코딩을 해보도록 해요. 사각형 패턴을 드론의 앞 부분을 회전시키면서 한 바퀴 비행하는 코드를 만들어보려고 합니다. 드론이 각 모서리에서 회전할 때 ‘자세 Yaw’ 센서값을 활용하면 좀 더 정교하게 원하는 각도만큼 회전시킬 수 있습니다. 지난 강의에서 배운 센서값과 조건문을 잘 활용해서 코딩을 해보도록 합니다.

<br>

---

<br>


<div align="center">
    <h1>[코드 생각하기]</h1>
</div>

<br>

드론이 다음과 같은 순서로 사각형 모양의 패턴 비행을 합니다.

<br>

<div align="center">
    <table>
        <tr>
            <td>
                <div align="center">
                    <img src="images/image189.png">
                </div>
            </td>
            <td>
                <div align="left">
                    1)	①번 위치에서 이륙합니다.<br>
                    2)	3초간 조종값 30%로 전진합니다.<br>
                    3)	좌로 90도만큼 회전합니다.<br>
                    4)	3초간 조종값 30%로 전진합니다.<br>
                    5)	좌로 90도만큼 회전합니다.<br>
                    6)	3초간 조종값 30%로 전진합니다.<br>
                    7)	좌로 90도만큼 회전합니다.<br>
                    8)	3초간 조종값 30%로 전진합니다.<br>
                    9)	좌로 90도만큼 회전합니다.<br>
                    10)	①번 위치에서 착륙합니다.<br>
                    <br>
                    <font color="red"><b>※	2)~9)까지 과정은 전진과 회전이 반복되기 때문에 앞서 배운 반복문을 사용하면 효율적으로 코딩할 수 있습니다.</b></font>
                </div>
            </td>
        </tr>
    </table>
</div>
<br>
그럼 센서를 활용하여 어떻게 드론을 좌로 90도만큼 회전시킬 수 있는지 알아보고, 코드를 생각해보아요.
<br>

드론이 좌/우로 회전할 때 회전 각도를 알 수 있는 센서값 블록은 “자세 Yaw” 입니다.

<div align="center">
    <table>
        <tr>
            <td>
                <div align="center">
                    <img src="images/image190.png">
                </div>
            </td>
            <td>
                <div align="left">
                    1)	①번 위치에서 이륙합니다.<br>
                    2)	3초간 조종값 30%로 전진합니다.<br>
                    3)	좌로 90도만큼 회전합니다.<br>
                    4)	3초간 조종값 30%로 전진합니다.<br>
                    5)	좌로 90도만큼 회전합니다.<br>
                    6)	3초간 조종값 30%로 전진합니다.<br>
                    7)	좌로 90도만큼 회전합니다.<br>
                    8)	3초간 조종값 30%로 전진합니다.<br>
                    9)	좌로 90도만큼 회전합니다.<br>
                    10)	①번 위치에서 착륙합니다.<br>
                    <br>
                    <font color="red"><b>※	2)~9)까지 과정은 전진과 회전이 반복되기 때문에 앞서 배운 반복문을 사용하면 효율적으로 코딩할 수 있습니다.</b></font>
                </div>
            </td>
        </tr>
    </table>
</div>

---

<br>


<div align="center">
    <h1>[코딩 및 실행하기]</h1>
</div>

<br>

<div align="center">
    <img src="images/image70(2).png"><br>
</div>

<div align="center">
    <table>
        <tr>
            <td>
                <div align="center">
                    <img src="images/image71(2).png"><br>
                    첫 번째 반복문&조건문 – 상승하기
                </div>
            </td>
            <td>
                <div align="left">
                    무한 반복문 안에서 바닥까지 거리 값이 1.5m 이상이 되는지를 지속적으로 확인하여 1.5m 이상이 되면 상승을 멈추고 호버링합니다.<b>(Lesson 6 참조)</b>
                </div>
            </td>
        </tr>
        <tr>
            <td>
                <div align="center">
                    <img src="images/image72(2).png"><br>
                    두 번째 반복문&조건문 – 착륙하기
                </div>
            </td>
            <td>
                <div align="left">
                    무한 반복문 안에서 바닥까지 거리 값이 0.5m 이하가 되는지를 지속적으로 확인하여 0.5m 이하가 되면 회전을 멈추고 드론을 착륙시킵니다. 손바닥을 드론 밑면과 50cm 이하로 떨어진 위치에 대면 드론이 손바닥 위로 착륙합니다.<br>
                    <font color="red">※ 주어진 조건을 만족하는 경우(참인 경우)에만 착륙시키면 되므로 “else” 구문이 없는 조건문 블록을 사용 가능합니다.</font>
                </div>
            </td>
        </tr>
    </table>
</div>

<br>

코드를 실행합니다. 손바닥을 드론 밑으로 가져가고 드론이 손바닥 위로 착륙할 때 다치지 않도록 조심합니다. 손바닥을 평평하게 펴야 하고 오므리거나 손가락을 구부리면 안됩니다. 드론이 착륙하기에 손바닥이 작다면 드론보다 큰 책을 손바닥 위에 올려서 드론이 책 위로 착륙할 수 있도록 합니다.

<br>

---

<br>


<div align="center">
    <h1>[정리하기]</h1>
</div>

<br>

드론을 손바닥 위로 잘 착륙시킬 수 있었나요? 어떤 경우에도 드론을 안전하게 착륙시킬 수 있도록 연습을 많이 해봐요.

1. 거리 센서를 활용하여 드론을 손바닥 위로 착륙시킬 수 있습니다.
2. 긴급 상황 시 드론을 손바닥 위로 착륙시키면 사고 발생 확률을 줄이면서 안전하게 착륙시킬 수 있습니다.
3. 반복문 안에 조건문을 사용하면 특정 동작을 반복적으로 수행하면서 어떤 조건이 발생했을 때 다른 동작을 수행하도록 할 수 있습니다.



<br>

---

### [바이블럭으로 코딩해요](../)

 1. [페트론 V2와 바이블럭이 만났어요](../lesson1)
 2. [페트론 V2와 인사해요](../lesson2)
 3. [페트론 V2로 음악을 연주해요](../lesson3)
 4. [페트론 V2로 사각형을 그려보아요](../lesson4)
 5. [페트론 V2로 계단을 오르락내리락 해요](../lesson5)
 6. [페트론 V2를 원하는 높이로 상승시켜 보아요](../lesson6)
 7. **페트론 V2를 손바닥 위에 착륙시켜 보아요**
 8. [페트론 V2를 버튼으로 이륙/착륙시켜 보아요](../lesson8)
 
---

Modified : 2018.8.28